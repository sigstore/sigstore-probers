name: Create Issue
description: Create a github issue on failure or closes that on success
inputs:
  issue_repository:
    description: "The issue repository"
    required: true
    type: string
  issue_type:
    description: "The issue type: FAILURE, SUCCESS"
    required: true
    type: string

runs:
  using: "composite"
    - name: Run Create Issue Action
      shell: bash
      run: |
        export ISSUE_REPOSITORY="${{ inputs.issue_repository }}"
        export ISSUE_TYPE="${{ inputs.issue_type }}"
        source ${{ github.action_path }}.github/scripts/create_issue.sh
        create_issue
